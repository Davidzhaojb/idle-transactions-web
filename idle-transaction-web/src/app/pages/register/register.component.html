<div class="content">
    <form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm(validateForm.value)">
        <nz-form-item>
            <nz-form-label [nzSpan]="7" nzRequired>用户名</nz-form-label>
            <nz-form-control [nzSpan]="12" nzHasFeedback nzValidatingTip="验证中..." [nzErrorTip]="userErrorTpl">
                <input nz-input formControlName="userName" placeholder="请输入用户名" />
                <ng-template #userErrorTpl let-control>
                    <ng-container *ngIf="control.hasError('required')">
                        请输入用户名!
                    </ng-container>
                    <ng-container *ngIf="control.hasError('duplicated')">
                        用户名重复!
                    </ng-container>
                </ng-template>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item>
            <nz-form-label [nzSpan]="7" nzRequired>邮箱</nz-form-label>
            <nz-form-control [nzSpan]="12" nzHasFeedback [nzErrorTip]="emailErrorTpl">
                <input nz-input formControlName="email" placeholder="email" type="email" />
                <ng-template #emailErrorTpl let-control>
                    <ng-container *ngIf="control.hasError('email')">
                        邮箱格式错误
                    </ng-container>
                    <ng-container *ngIf="control.hasError('required')">
                        请输入邮箱
                    </ng-container>
                </ng-template>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item>
            <nz-form-label [nzSpan]="7" nzRequired>密码</nz-form-label>
            <nz-form-control [nzSpan]="12" nzHasFeedback nzErrorTip="请输入密码">
                <input nz-input type="password" formControlName="password"
                    (ngModelChange)="validateConfirmPassword()" />
            </nz-form-control>
        </nz-form-item>
        <nz-form-item>
            <nz-form-label [nzSpan]="7" nzRequired>确认密码</nz-form-label>
            <nz-form-control [nzSpan]="12" nzHasFeedback [nzErrorTip]="passwordErrorTpl">
                <input nz-input type="password" formControlName="confirm" placeholder="确认您的密码" />
                <ng-template #passwordErrorTpl let-control>
                    <ng-container *ngIf="control.hasError('required')">
                       请确认您的密码
                    </ng-container>
                    <ng-container *ngIf="control.hasError('confirm')">
                        密码不一致！
                    </ng-container>
                </ng-template>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item>
            <nz-form-control [nzOffset]="7" [nzSpan]="12">
                <button nz-button nzType="primary" [disabled]="!validateForm.valid">注册</button>
                <button nz-button (click)="resetForm($event)" [routerLink]="['/app/login']" routerLinkActive="router-link-active" >立即登录</button>
            </nz-form-control>
        </nz-form-item>
    </form>
</div>